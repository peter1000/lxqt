# Description : Library that provides a plugin framework for handling desktop services
# URL: https://www.kde.org/
# Packager: pierre at nutyx dot org, fanch at nutyx dot org, tnut at nutyx dot org
# Depends on: extra-cmake-modules qt5 kf5-karchive kf5-kconfig kf5-kcrash kf5-kdbusaddons kf5-kdoctools kf5-ki18n  
name=kf5-kservice
release=1

_name=kservice
source=(http://download.kde.org/stable/frameworks/${version%.*}/${_name}-$version.tar.xz)

build() {
cd ${_name}-$version
mkdir build
cd    build

cmake -DCMAKE_INSTALL_PREFIX=/usr    \
      -DCMAKE_BUILD_TYPE=Release            \
      -DSYSCONF_INSTALL_DIR=/etc/kf5 \
      -DLIB_INSTALL_DIR=lib                 \
      -DBUILD_TESTING=OFF                   \
      -DECM_MKSPECS_INSTALL_DIR=/usr/share/qt5/mkspecs/modules \
      -Wno-dev .. 

make
make DESTDIR=$PKG install
}
